compile-16.04:
  image: nikolausdemmel/ubuntu-dev-base:16.04
  stage: build
  before_script:
    - mkdir -p ccache
    - export CCACHE_BASEDIR=${PWD}
    - export CCACHE_DIR=${PWD}/ccache
  cache:
    paths:
    - ccache/
  script:
    - mkdir build
    - cd build
    - cmake .. -DCMAKE_BUILD_TYPE=Release
    - make -j3

compile-14.04:
  image: nikolausdemmel/ubuntu-dev-base:14.04
  stage: build
  before_script:
    - mkdir -p ccache
    - export CCACHE_BASEDIR=${PWD}
    - export CCACHE_DIR=${PWD}/ccache
  cache:
    paths:
    - ccache/
  script:
    - mkdir build
    - cd build
    - cmake .. -DCMAKE_BUILD_TYPE=Release
    - make -j3


# TODO: checkout this use of travis with docker: https://github.com/OpenChannelSSD/liblightnvm/blob/master/.travis.yml
